
> multivendor-backend@1.0.0 start
> node server.js

(node:20484) [MONGOOSE] Warning: Duplicate schema index on {"email":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20484) [MONGOOSE] Warning: Duplicate schema index on {"userId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20484) [MONGOOSE] Warning: Duplicate schema index on {"sku":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20484) [MONGOOSE] Warning: Duplicate schema index on {"seo.slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20484) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(node:20484) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
ðŸš€ Server running in development mode on port 5000
ðŸ“± Frontend URL: http://localhost:3000
ðŸ”— API Base URL: http://localhost:5000/api
âœ… MongoDB Connected: localhost
GET /api/test/ping 200 234 - 2.386 ms - -/anonymous
GET /api/test/health 200 351 - 1.146 ms - -/anonymous
GET /api/test/db 500 178 - 1.764 ms - -/anonymous
POST /api/auth/register 201 579 - 377.004 ms - -/anonymous
POST /api/auth/login 200 606 - 343.323 ms - -/anonymous
GET /api/auth/me 200 373 - 8.645 ms - customer/688259de485db14692d1a123
PUT /api/auth/profile 200 374 - 16.273 ms - customer/688259de485db14692d1a123
PUT /api/auth/change-password 200 97 - 683.016 ms - customer/688259de485db14692d1a123
POST /api/vendor/register 201 1041 - 345.767 ms - -/anonymous
POST /api/vendor/login 200 1014 - 334.734 ms - -/anonymous
Error: CastError: Cast to ObjectId failed for value "profile" (type string) at path "_id" for model "Vendor"
    at SchemaObjectId.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1258:12)
    at SchemaType.castForQuery (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1676:17)
    at cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///tmp/rnqayush/Backend_Starter/controllers/vendorController.js:269:18 {
  stringValue: '"profile"',
  messageFormat: undefined,
  kind: 'ObjectId',
  value: 'profile',
  path: '_id',
  reason: BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer
      at new ObjectId (/tmp/rnqayush/Backend_Starter/node_modules/bson/lib/bson.cjs:2538:23)
      at castObjectId (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/cast/objectid.js:25:12)
      at SchemaObjectId.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schema/objectId.js:249:12)
      at SchemaType.applySetters (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1258:12)
      at SchemaType.castForQuery (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1676:17)
      at cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/cast.js:390:32)
      at Query.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:5055:12)
      at Query._castConditions (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2351:10)
      at model.Query._findOne (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2674:8)
      at model.Query.exec (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:4604:80),
  valueType: 'string'
}
GET /api/vendor/profile 400 1577 - 2.979 ms - -/anonymous
PUT /api/vendor/profile 200 827 - 17.463 ms - vendor/688259df485db14692d1a12f
Error: CastError: Cast to ObjectId failed for value "dashboard" (type string) at path "_id" for model "Vendor"
    at SchemaObjectId.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schema/objectId.js:251:11)
    at SchemaType.applySetters (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1258:12)
    at SchemaType.castForQuery (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1676:17)
    at cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/cast.js:390:32)
    at Query.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:5055:12)
    at Query._castConditions (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2351:10)
    at model.Query._findOne (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2674:8)
    at model.Query.exec (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:4604:80)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///tmp/rnqayush/Backend_Starter/controllers/vendorController.js:269:18 {
  stringValue: '"dashboard"',
  messageFormat: undefined,
  kind: 'ObjectId',
  value: 'dashboard',
  path: '_id',
  reason: BSONError: input must be a 24 character hex string, 12 byte Uint8Array, or an integer
      at new ObjectId (/tmp/rnqayush/Backend_Starter/node_modules/bson/lib/bson.cjs:2538:23)
      at castObjectId (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/cast/objectid.js:25:12)
      at SchemaObjectId.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schema/objectId.js:249:12)
      at SchemaType.applySetters (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1258:12)
      at SchemaType.castForQuery (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/schemaType.js:1676:17)
      at cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/cast.js:390:32)
      at Query.cast (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:5055:12)
      at Query._castConditions (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2351:10)
      at model.Query._findOne (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:2674:8)
      at model.Query.exec (/tmp/rnqayush/Backend_Starter/node_modules/mongoose/lib/query.js:4604:80),
  valueType: 'string'
}
GET /api/vendor/dashboard 400 1587 - 1.715 ms - -/anonymous
GET /api/vendor/688259e0485db14692d1a131 200 646 - 7.099 ms - -/anonymous
POST /api/admin/login 401 94 - 2.404 ms - -/anonymous
POST /api/hotel 403 111 - 7.963 ms - vendor/688259df485db14692d1a12f
GET /api/hotel 200 197 - 7.606 ms - -/anonymous
GET /api/hotel/vendor/my-hotels 200 204 - 13.407 ms - vendor/688259df485db14692d1a12f
GET /api/hotel/vendor/stats 200 186 - 11.727 ms - vendor/688259df485db14692d1a12f
POST /api/ecommerce 403 120 - 5.407 ms - vendor/688259df485db14692d1a12f
GET /api/ecommerce 200 201 - 8.238 ms - -/anonymous
GET /api/ecommerce/vendor/my-products 200 208 - 16.733 ms - vendor/688259df485db14692d1a12f
POST /api/automobile 403 121 - 8.594 ms - vendor/688259df485db14692d1a12f
GET /api/automobile 200 201 - 4.605 ms - -/anonymous
GET /api/automobile/vendor/my-vehicles 200 208 - 16.075 ms - vendor/688259df485db14692d1a12f
POST /api/wedding 403 118 - 30.146 ms - vendor/688259df485db14692d1a12f
GET /api/wedding 200 209 - 9.953 ms - -/anonymous
GET /api/wedding/vendor/my-services 200 216 - 9.555 ms - vendor/688259df485db14692d1a12f
GET /api/homepage 200 1778 - 20.620 ms - -/anonymous
GET /api/homepage/stats 200 225 - 7.723 ms - -/anonymous
Error: MongoServerError: text index required for $text query
    at Connection.sendCommand (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/tmp/rnqayush/Backend_Starter/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'text index required for $text query',
    code: 27,
    codeName: 'IndexNotFound'
  },
  ok: 0,
  code: 27,
  codeName: 'IndexNotFound'
}
GET /api/homepage/search?q=test&category=hotel 500 1654 - 4.130 ms - -/anonymous
